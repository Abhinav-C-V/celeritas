{% extends 'base.html' %}

{% block content %}

<section class="section-content padding-y">
  <!-- COMPONENT REGISTER -->
  <div class="card mx-auto" style="max-width:520px; margin-top:40px;">
    <article class="card-body">
      {% include 'includes/alerts.html' %}
      <header class="mb-4">
        <h4 class="card-title">Sign up</h4>
      </header>
      <form id="userSignupForm" action="{% url 'user_signup' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form.non_field_errors }}

        <div class="form-row">
          <div class="col form-group">
            <label for="user_firstname">{{ form.user_firstname.label }}</label>
            {{ form.user_firstname }}
            <small class="text-danger">{{ form.errors.user_firstname }}</small>
          </div>
          <div class="col form-group">
            <label for="user_lastname">{{ form.user_lastname.label }}</label>
            {{ form.user_lastname }}
            <small class="text-danger">{{ form.errors.user_lastname }}</small>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="user_email">{{ form.user_email.label }}</label>
            {{ form.user_email }}
            <small class="text-danger">{{ form.errors.user_email }}</small>
          </div>
          <div class="form-group col-md-6">
            <label for="user_phone">{{ form.user_phone.label }}</label>
            {{ form.user_phone }}
            <small class="text-danger">{{ form.errors.user_phone }}</small>
          </div>
        </div>

        <div class="form-group col-md-6">
          <label for="user_image">{{ form.user_image.label }}</label>
          {{ form.user_image }}
          <small class="text-danger">{{ form.errors.user_image }}</small>
        </div>

        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="user_password">{{ form.user_password.label }}</label>
            {{ form.user_password }}
            <small class="text-danger">{{ form.errors.user_password }}</small>
          </div>
          <div class="form-group col-md-6">
            <label for="user_cpassword">{{ form.user_cpassword.label }}</label>
            {{ form.user_cpassword }}
            <small class="text-danger">{{ form.errors.user_cpassword }}</small>
          </div>
        </div>
        
        <div class="form-group">
          <button type="submit" class="btn btn-primary btn-block">Register</button>
        </div>
      </form>
    </article>
  </div>
  <p class="text-center mt-4">Have an account? <a href="{% url 'user_login' %}">Log In</a></p>
</section>

{% endblock %}

{% comment %} <script>
  $(document).ready(function() {
    $('#userSignupForm').on('submit', function(event) {
      event.preventDefault();
      var formData = new FormData(this);

      $.ajax({
        url: $(this).attr('action'),
        type: $(this).attr('method'),
        data: formData,
        processData: false,
        contentType: false,
        success: function(response) {
          console.log('Success:', response);
          // Handle success response
        },
        error: function(xhr, textStatus, error) {
          console.log('Error:', error);
          // Handle error response
        }
      });
    });
  });
</script>


	 {% endcomment %}
